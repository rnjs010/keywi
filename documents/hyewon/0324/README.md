# 피드 기능 설계 및 MSA 학습

## 1. 기본 인프라

Spring Boot: 마이크로서비스 개발의 기본 프레임워크
Spring Cloud Gateway: API Gateway로 사용자 인증/인가 처리
Spring Cloud Config: 서비스 설정 관리
Docker: 컨테이너화

## 2. 사용자 인증/인가

Spring Security + JWT: 토큰 기반 인증
Redis: 토큰 저장 및 블랙리스트 관리 (세션 관리)

## 3. 데이터 저장소

MySQL: 피드, 댓글, 해시태그, 상품 정보의 메인 데이터베이스
MongoDB: 사용자 활동 로그, 추천 시스템 데이터 저장
Redis: 캐싱, 좋아요/북마크 카운터, 인기 피드 등 빠른 조회 필요 데이터

## 4. 메시징/이벤트 스트리밍

Kafka: 사용자 활동 로그 수집, 서비스 간 비동기 통신

## 5. 추천 시스템

Spring Batch: 주기적인 추천 데이터 처리
Elasticsearch: 검색 기능 및 관련 피드 추천

# 구현 전략

## 1. API Gateway (Spring Cloud Gateway)

모든 요청의 진입점: 인증/인가 처리
로깅 필터: 사용자 활동 로그 Kafka로 전송
서비스 라우팅: 적절한 마이크로서비스로 요청 전달

## 2. 피드 서비스

데이터베이스: MySQL(피드 기본 정보) + MongoDB(피드 콘텐츠, 미디어)
Redis: 인기 피드, 최신 피드 캐싱
Spring Data JPA/MongoDB: 데이터 액세스

## 3. 활동 로그 서비스

Kafka Consumer: 사용자 활동 로그 수집
MongoDB: 로그 데이터 저장
스케줄링: Spring Batch로 주기적 분석 및 추천 데이터 생성

## 4. 추천 서비스

Spring Batch: 일배치로 사용자별 추천 피드 계산
Redis: 사용자별 추천 피드 목록 캐싱
알고리즘: 가중치 기반 추천 (좋아요=3점, 북마크=5점, 검색=1점 등)

## 5. 상호작용 서비스 (좋아요/북마크/댓글)

Redis: 좋아요/북마크 카운트 관리 (성능)
MySQL: 영구 데이터 저장
Kafka: 이벤트 기반 알림 시스템 연동

## 기술 스택 선택 이유

- Redis:

세션 관리, 캐싱, 실시간 카운터(좋아요, 조회수)
사용자 맞춤형 피드 캐싱으로 빠른 응답 제공
토큰 관리 및 Rate Limiting

- Kafka:

비동기 이벤트 처리로 서비스 간 느슨한 결합
사용자 활동 로그 수집 및 실시간 분석
알림 이벤트 발행
추천 시스템에 활동 데이터 제공

- MongoDB:

사용자 활동 로그, 비정형 데이터 저장
피드 콘텐츠와 같은 유연한 스키마 요구사항
추천 알고리즘을 위한 데이터 분석

- Elasticsearch:

관련 피드 추천 (콘텐츠 기반 필터링)

- Spring Batch:

정기적인 추천 데이터 생성 및 분석
대용량 데이터 처리 최적화
